{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\nasync function fetchData(url, params) {\n    const response = await fetch(`${url}?${params}`)\n    if(!response.ok) {\n        throw new Error(response.statusText);\n    }\n    return await response.json();\n}\n\nexport { fetchData };\n\n","'use strict';\n\nfunction createMarkup(data) {\n    return data.hits.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li class=\"search-item\">\n            <a class=\"search-link\" href=\"${largeImageURL}\">\n                <img src=\"${webformatURL}\" alt=\"${tags}\">\n            </a>\n            <div class=\"search-item-text-wrap\">\n                <div class=\"search-item-text\">\n                    <h2>Likes</h2>\n                    <p>${likes}</p>\n                </div>\n                <div class=\"search-item-text\">\n                    <h2>Views</h2>\n                    <p>${views}</p>\n                </div>\n                <div class=\"search-item-text\">\n                    <h2>Comments</h2>\n                    <p>${comments}</p>\n                </div>\n                <div class=\"search-item-text\">\n                    <h2>Downloads</h2>\n                    <p>${downloads}</p>\n                </div>\n            </div>\n        </li>\n    `).join('');\n}\n\nexport { createMarkup };","'use strict';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchData } from \"./js/pixabay-api\";\nimport { createMarkup } from \"./js/render-functions\";\n\nconst API_KEY = '44071126-68094a25e5e927b0ae90eca12';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst searchForm = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250\n});\n\nsearchForm.addEventListener('submit', submitHandler);\n\nfunction submitHandler(event) {\n    event.preventDefault();\n    const inputValue = event.target.query.value;\n    if(inputValue === '') {\n        return;\n    }\n    gallery.innerHTML = '';\n\n    const options = new URLSearchParams({\n        key: API_KEY,\n        q: inputValue,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    })\n\n    loader.style.display = 'block';\n\n    fetchData(BASE_URL, options)\n        .then(resp => {\n            if(resp.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                    backgroundColor: 'red',\n                    messageColor: 'white',\n                })\n                loader.style.display = 'none';\n                return;\n            }\n            gallery.insertAdjacentHTML(\"beforeend\", createMarkup(resp))\n            lightbox.refresh();\n            loader.style.display = 'none';\n        })\n        .catch(err => {\n            console.log(err);\n            loader.style.display = 'none';\n        });\n}\n\n\n\n\n"],"names":["fetchData","url","params","response","createMarkup","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","API_KEY","BASE_URL","searchForm","gallery","loader","lightbox","SimpleLightbox","submitHandler","event","inputValue","options","resp","iziToast","err"],"mappings":"6vBAEA,eAAeA,EAAUC,EAAKC,EAAQ,CAClC,MAAMC,EAAW,MAAM,MAAM,GAAGF,CAAG,IAAIC,CAAM,EAAE,EAC/C,GAAG,CAACC,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAO,MAAMA,EAAS,MAC1B,CCNA,SAASC,EAAaC,EAAM,CACxB,OAAOA,EAAK,KAAK,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,2CAE5DL,CAAa;AAAA,4BAC5BD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,yBAK7BC,CAAK;AAAA;AAAA;AAAA;AAAA,yBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAI7B,EAAE,KAAK,EAAE,CACd,CClBA,MAAMC,EAAU,qCACVC,EAAW,2BAEXC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAEDJ,EAAW,iBAAiB,SAAUK,CAAa,EAEnD,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,OAAO,MAAM,MACtC,GAAGC,IAAe,GACd,OAEJN,EAAQ,UAAY,GAEpB,MAAMO,EAAU,IAAI,gBAAgB,CAChC,IAAKV,EACL,EAAGS,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAEDL,EAAO,MAAM,QAAU,QAEvBjB,EAAUc,EAAUS,CAAO,EACtB,KAAKC,GAAQ,CACV,GAAGA,EAAK,KAAK,SAAW,EAAG,CACvBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,gBAAiB,MACjB,aAAc,OAClC,CAAiB,EACDR,EAAO,MAAM,QAAU,OACvB,MACH,CACDD,EAAQ,mBAAmB,YAAaZ,EAAaoB,CAAI,CAAC,EAC1DN,EAAS,QAAO,EAChBD,EAAO,MAAM,QAAU,MACnC,CAAS,EACA,MAAMS,GAAO,CACV,QAAQ,IAAIA,CAAG,EACfT,EAAO,MAAM,QAAU,MACnC,CAAS,CACT"}